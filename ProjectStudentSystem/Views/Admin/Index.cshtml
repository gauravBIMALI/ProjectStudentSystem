@using ProjectStudentSystem.ViewModels
@model AdminDashboardViewModel
<style>
  
    .card {
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
    }

    .btn-outline-primary:hover,
    .btn-outline-success:hover,
    .btn-outline-info:hover,
    .btn-outline-warning:hover {
        transform: scale(1.05);
        transition: all 0.2s;
    }
</style>

@{
    ViewData["Title"] = "Admin Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid py-4">
    <!-- Page Header -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="fw-bold text-dark">Dashboard Overview</h2>
            <p class="text-muted"> <b> Welcome back! Here's what's happening with your school management system.</b> </p>
        </div>
    </div>

    <!-- Statistics Cards -->
    <div class="row g-4 mb-4">
        <!-- Total Users Card -->
        <div class="col-xl-3 col-md-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="text-muted mb-2 text-uppercase" style="font-size: 0.75rem; font-weight: 600;">Total Users</h6>
                            <h2 class="fw-bold mb-0">@Model.TotalUsers</h2>
                        </div>
                        <div class="bg-primary bg-opacity-10 rounded p-3">
                            <i class="fas fa-users text-primary fa-2x"></i>
                        </div>
                    </div>
                    <div class="mt-3">
                        <a asp-action="#" asp-controller="Admin" class="text-primary text-decoration-none small fw-semibold">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Total Teachers Card -->
        <div class="col-xl-3 col-md-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="text-muted mb-2 text-uppercase" style="font-size: 0.75rem; font-weight: 600;">Teachers</h6>
                            <h2 class="fw-bold mb-0">@Model.TotalTeachers</h2>
                        </div>
                        <div class="bg-success bg-opacity-10 rounded p-3">
                            <i class="fas fa-chalkboard-teacher text-success fa-2x"></i>
                        </div>
                    </div>
                    <div class="mt-3">
                        <a asp-action="UsersList" asp-controller="Admin" class="text-success text-decoration-none small fw-semibold">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Total Students Card -->
        <div class="col-xl-3 col-md-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="text-muted mb-2 text-uppercase" style="font-size: 0.75rem; font-weight: 600;">Students</h6>
                            <h2 class="fw-bold mb-0">@Model.TotalStudents</h2>
                        </div>
                        <div class="bg-info bg-opacity-10 rounded p-3">
                            <i class="fas fa-user-graduate text-info fa-2x"></i>
                        </div>
                    </div>
                    <div class="mt-3">
                        <a asp-action="UsersList" asp-controller="Admin" class="text-info text-decoration-none small fw-semibold">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Total Classes Card -->
        <div class="col-xl-3 col-md-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="text-muted mb-2 text-uppercase" style="font-size: 0.75rem; font-weight: 600;">Classes</h6>
                            <h2 class="fw-bold mb-0">@Model.TotalClasses</h2>
                        </div>
                        <div class="bg-warning bg-opacity-10 rounded p-3">
                            <i class="fas fa-door-open text-warning fa-2x"></i>
                        </div>
                    </div>
                    <div class="mt-3">
                        <a href="@Url.Action("ClassesList", "Admin")" class="text-warning text-decoration-none small fw-semibold">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Second Row -->
    <div class="row g-4">
        <!-- Subjects Card -->
        <div class="col-xl-3 col-md-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="text-muted mb-2 text-uppercase" style="font-size: 0.75rem; font-weight: 600;">Subjects</h6>
                            <h2 class="fw-bold mb-0">@Model.TotalSubjects</h2>
                        </div>
                        <div class="bg-danger bg-opacity-10 rounded p-3">
                            <i class="fas fa-book text-danger fa-2x"></i>
                        </div>
                    </div>
                    <div class="mt-3">
                        <a href="@Url.Action("SubjectList", "Admin")" class="text-danger text-decoration-none small fw-semibold">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions Card -->
        <div class="col-xl-9 col-md-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <h5 class="card-title fw-bold mb-4">Quick Actions</h5>
                    <div class="row g-3">
                        <div class="col-md-3 col-sm-6">
                            <a href="@Url.Action("AddUser", "Admin")" class="btn btn-outline-primary w-100 py-3">
                                <i class="fas fa-user-plus d-block mb-2 fa-2x"></i>
                                <span class="small">Add User</span>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="@Url.Action("AddClass", "Admin")" class="btn btn-outline-success w-100 py-3">
                                <i class="fas fa-plus-circle d-block mb-2 fa-2x"></i>
                                <span class="small">Add Class</span>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="@Url.Action("AddSubject", "Admin")" class="btn btn-outline-info w-100 py-3">
                                <i class="fas fa-book-medical d-block mb-2 fa-2x"></i>
                                <span class="small">Add Subject</span>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="@Url.Action("Reports", "Admin")" class="btn btn-outline-warning w-100 py-3">
                                <i class="fas fa-chart-bar d-block mb-2 fa-2x"></i>
                                <span class="small">View Reports</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Info Section -->
    <div class="row g-4 mt-2">
        <div class="col-md-6">
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title fw-bold mb-3">System Overview</h5>
                    <div class="d-flex justify-content-between mb-3">
                        <span class="text-muted">Teacher-Student Ratio</span>
                        <span class="fw-semibold">
                            @if (Model.TotalTeachers > 0)
                            {
                                @:1:@Math.Round((double)Model.TotalStudents / Model.TotalTeachers, 1)
                            }
                            else
                            {
                                @:N/A
                            }
                        </span>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span class="text-muted">Average Students per Class</span>
                        <span class="fw-semibold">
                            @if (Model.TotalClasses > 0)
                            {
                                @Math.Round((double)Model.TotalStudents / Model.TotalClasses, 1)
                            }
                            else
                            {
                                @:N/A
                            }
                        </span>
                    </div>
                    <div class="d-flex justify-content-between">
                        <span class="text-muted">Subjects per Class</span>
                        <span class="fw-semibold">
                            @if (Model.TotalClasses > 0)
                            {
                                @Math.Round((double)Model.TotalSubjects / Model.TotalClasses, 1)
                            }
                            else
                            {
                                @:N/A
                            }
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title fw-bold mb-3">Recent Activity</h5>
                    <div class="activity-item mb-3 pb-3 border-bottom">
                        <div class="d-flex">
                            <div class="me-3">
                                <i class="fas fa-circle text-primary" style="font-size: 0.5rem;"></i>
                            </div>
                            <div class="flex-grow-1">
                                <p class="mb-1 small">New user registered</p>
                                <small class="text-muted">2 hours ago</small>
                            </div>
                        </div>
                    </div>
                    <div class="activity-item mb-3 pb-3 border-bottom">
                        <div class="d-flex">
                            <div class="me-3">
                                <i class="fas fa-circle text-success" style="font-size: 0.5rem;"></i>
                            </div>
                            <div class="flex-grow-1">
                                <p class="mb-1 small">Class schedule updated</p>
                                <small class="text-muted">5 hours ago</small>
                            </div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="d-flex">
                            <div class="me-3">
                                <i class="fas fa-circle text-info" style="font-size: 0.5rem;"></i>
                            </div>
                            <div class="flex-grow-1">
                                <p class="mb-1 small">New subject added</p>
                                <small class="text-muted">1 day ago</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

